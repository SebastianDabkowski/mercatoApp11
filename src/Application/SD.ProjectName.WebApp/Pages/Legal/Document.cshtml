@page "/Legal/{type?}"
@model SD.ProjectName.WebApp.Pages.Legal.DocumentModel
@{
    ViewData["Title"] = Model.DisplayName;
}

<div class="row">
    <div class="col-lg-8">
        <h1 class="display-6">@Model.DisplayName</h1>
        <p class="text-muted">Review the latest version and upcoming changes.</p>

        @if (Model.ActiveVersion == null)
        {
            <div class="alert alert-warning">This document is not configured yet.</div>
        }
        else
        {
            <div class="d-flex justify-content-between align-items-center mb-3">
                <div>
                    <div class="fw-semibold">Version @Model.ActiveVersion.VersionTag</div>
                    <div class="text-muted small">Effective @Model.ActiveVersion.EffectiveFrom.ToString("yyyy-MM-dd")</div>
                    @if (!string.IsNullOrWhiteSpace(Model.ActiveVersion.Title))
                    {
                        <div class="text-muted small">@Model.ActiveVersion.Title</div>
                    }
                </div>
                <span class="badge bg-primary">Current</span>
            </div>
            <div class="border rounded p-4 bg-white shadow-sm">
                @Html.Raw(Model.ActiveVersion.Content)
            </div>
        }

        @if (Model.UpcomingVersion != null)
        {
            <div class="alert alert-info mt-3">
                Upcoming version <strong>@Model.UpcomingVersion.VersionTag</strong> becomes effective on @Model.UpcomingVersion.EffectiveFrom.ToString("yyyy-MM-dd").
            </div>
        }
    </div>
</div>
